# 36. æœ‰æ•ˆçš„æ•°ç‹¬
# ä¸­ç­‰
#
# ç›¸å…³æ ‡ç­¾
# ç›¸å…³ä¼ä¸š
# è¯·ä½ åˆ¤æ–­ä¸€ä¸ª 9 x 9 çš„æ•°ç‹¬æ˜¯å¦æœ‰æ•ˆã€‚åªéœ€è¦ æ ¹æ®ä»¥ä¸‹è§„åˆ™ ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
#
# æ•°å­— 1-9 åœ¨æ¯ä¸€è¡Œåªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
# æ•°å­— 1-9 åœ¨æ¯ä¸€åˆ—åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚
# æ•°å­— 1-9 åœ¨æ¯ä¸€ä¸ªä»¥ç²—å®çº¿åˆ†éš”çš„ 3x3 å®«å†…åªèƒ½å‡ºç°ä¸€æ¬¡ã€‚ï¼ˆè¯·å‚è€ƒç¤ºä¾‹å›¾ï¼‰
#
#
# æ³¨æ„ï¼š
#
# ä¸€ä¸ªæœ‰æ•ˆçš„æ•°ç‹¬ï¼ˆéƒ¨åˆ†å·²è¢«å¡«å……ï¼‰ä¸ä¸€å®šæ˜¯å¯è§£çš„ã€‚
# åªéœ€è¦æ ¹æ®ä»¥ä¸Šè§„åˆ™ï¼ŒéªŒè¯å·²ç»å¡«å…¥çš„æ•°å­—æ˜¯å¦æœ‰æ•ˆå³å¯ã€‚
# ç©ºç™½æ ¼ç”¨ '.' è¡¨ç¤ºã€‚
#
#
# ç¤ºä¾‹ 1ï¼š
#
#
# è¾“å…¥ï¼šboard =
# [["5","3",".",".","7",".",".",".","."]
#     ,["6",".",".","1","9","5",".",".","."]
#     ,[".","9","8",".",".",".",".","6","."]
#     ,["8",".",".",".","6",".",".",".","3"]
#     ,["4",".",".","8",".","3",".",".","1"]
#     ,["7",".",".",".","2",".",".",".","6"]
#     ,[".","6",".",".",".",".","2","8","."]
#     ,[".",".",".","4","1","9",".",".","5"]
#     ,[".",".",".",".","8",".",".","7","9"]]
# è¾“å‡ºï¼štrue
# ç¤ºä¾‹ 2ï¼š
#
# è¾“å…¥ï¼šboard =
# [["8","3",".",".","7",".",".",".","."]
#     ,["6",".",".","1","9","5",".",".","."]
#     ,[".","9","8",".",".",".",".","6","."]
#     ,["8",".",".",".","6",".",".",".","3"]
#     ,["4",".",".","8",".","3",".",".","1"]
#     ,["7",".",".",".","2",".",".",".","6"]
#     ,[".","6",".",".",".",".","2","8","."]
#     ,[".",".",".","4","1","9",".",".","5"]
#     ,[".",".",".",".","8",".",".","7","9"]]
# è¾“å‡ºï¼šfalse
# è§£é‡Šï¼šé™¤äº†ç¬¬ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªæ•°å­—ä» 5 æ”¹ä¸º 8 ä»¥å¤–ï¼Œç©ºæ ¼å†…å…¶ä»–æ•°å­—å‡ä¸ ç¤ºä¾‹1 ç›¸åŒã€‚ ä½†ç”±äºä½äºå·¦ä¸Šè§’çš„ 3x3 å®«å†…æœ‰ä¸¤ä¸ª 8 å­˜åœ¨, å› æ­¤è¿™ä¸ªæ•°ç‹¬æ˜¯æ— æ•ˆçš„ã€‚
#
#
# æç¤ºï¼š
#
# board.length == 9
# board[i].length == 9
# board[i][j] æ˜¯ä¸€ä½æ•°å­—ï¼ˆ1-9ï¼‰æˆ–è€… '.'

# å¯ä»¥å¢åŠ ç¨‹åºè¿è¡Œæ‰€éœ€å†…å­˜ ä¸€æ¬¡ğŸªäºŒç»´æ•°ç»„æ¥å®ç° åˆ¤æ–­å±äºå“ªä¸ªBox: j/3 + (i/3)*3ÃŸ
from typing import List
class Solution:
    def isValidSudoku(self, board: List[List[str]]) -> bool:
        if not board:
            return False
        rows = len(board)
        cols = len(board[0])
        # æ¯è¡Œä¸èƒ½é‡å¤
        for row in range(rows):
            mark = [False] * 9
            for col in range(cols):
                val = board[row][col]
                idx = ord(val) - ord('1')
                if val == '.':
                    continue
                elif mark[idx]:
                    return False
                else:
                    mark[idx] = True

        # æ¯åˆ—ä¸èƒ½é‡å¤
        for col in range(cols):
            mark = [False] * 9
            for row in range(rows):
                val = board[row][col]
                idx = ord(val) - ord('1')
                if val == '.':
                    continue
                elif mark[idx]:
                    return False
                else:
                    mark[idx] = True

        step_arr = [[-1, -1], [-1, 0], [-1, 1], [0, -1], [0, 0], [0, 1], [1, -1], [1, 0], [1, 1]]
        # æ¯ä¸ªä¹å®«æ ¼ä¸èƒ½é‡å¤
        for row in range(1, rows, 3):
            for col in range(1, cols, 3):
                mark = [False] * 9
                for step in step_arr:
                    val = board[row+step[0]][col+step[1]]
                    idx = ord(val) - ord('1')
                    if val == '.':
                        continue
                    elif mark[idx]:
                        return False
                    else:
                        mark[idx] = True

        return True



if __name__ == '__main__':
    board = [["5","3",".",".","7",".",".",".","."]
    ,["6",".",".","1","9","5",".",".","."]
    ,[".","9","8",".",".",".",".","6","."]
    ,["8",".",".",".","6",".",".",".","3"]
    ,["4",".",".","8",".","3",".",".","1"]
    ,["7",".",".",".","2",".",".",".","6"]
    ,[".","6",".",".",".",".","2","8","."]
    ,[".",".",".","4","1","9",".",".","5"]
    ,[".",".",".",".","8",".",".","7","9"]]
    solution = Solution()
    print(solution.isValidSudoku(board))